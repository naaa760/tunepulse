(()=>{var e={};e.id=105,e.ids=[105],e.modules={440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},522:()=>{},553:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(687),a=r(3210),o=r(5747),n=r(4781),i=r.n(n);function l({onSearch:e}){let[t,r]=(0,a.useState)("");return(0,s.jsxs)("form",{onSubmit:r=>{r.preventDefault(),e(t)},className:i().searchForm,children:[(0,s.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Search for songs...",className:i().searchInput}),(0,s.jsx)("button",{type:"submit",className:i().searchButton,children:"Search"})]})}let d="http://localhost:4000/api";async function c(e){let t=e?`${d}/songs/search?query=${encodeURIComponent(e)}`:`${d}/songs`,r=await fetch(t);if(!r.ok)throw Error("Failed to fetch songs");return r.json()}var u=r(7505),h=r.n(u),p=r(5814),m=r.n(p);function v(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[i,d]=(0,a.useState)(null),u=async e=>{try{n(!0);let r=await c(e);t(r),d(null)}catch(e){d("Failed to load songs. Please try again later."),console.error(e)}finally{n(!1)}};return(0,s.jsxs)("div",{className:h().dashboard,children:[(0,s.jsx)("h1",{children:"Music Dashboard"}),(0,s.jsxs)("div",{className:h().actions,children:[(0,s.jsx)(l,{onSearch:e=>{u(e)}}),(0,s.jsx)(m(),{href:"/favorites",className:h().favoritesButton,children:"View Favorites"})]}),r&&(0,s.jsx)("div",{className:h().loading,children:"Loading songs..."}),i&&(0,s.jsx)("div",{className:h().error,children:i}),(0,s.jsx)(o.A,{songs:e})]})}},559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/neha/tunepulse/client/src/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/neha/tunepulse/client/src/app/dashboard/page.tsx","default")},690:()=>{},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1353:e=>{e.exports={songList:"SongList_songList__R5SNE",empty:"SongList_empty__Q7kQp"}},1420:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3434:(e,t,r)=>{"use strict";r.d(t,{BA:()=>n,dw:()=>o,qM:()=>a});let s="http://localhost:4000/api";async function a(){let e=await fetch(`${s}/favorites`);if(!e.ok)throw Error("Failed to fetch favorites");return e.json()}async function o(e){let t=await fetch(`${s}/favorites/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({songId:e})});if(!t.ok)throw Error("Failed to toggle favorite");return t.json()}async function n(e){let t=await fetch(`${s}/favorites/check/${e}`);if(!t.ok)throw Error("Failed to check favorite status");return(await t.json()).isFavorite}},3873:e=>{"use strict";e.exports=require("path")},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(7413),a=r(2202),o=r.n(a),n=r(4988),i=r.n(n);r(1135);let l={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${o().variable} ${i().variable} antialiased`,children:e})})}},4781:e=>{e.exports={searchForm:"SongSearch_searchForm__QNF7N",searchInput:"SongSearch_searchInput__51LaP",searchButton:"SongSearch_searchButton__LbO89"}},5340:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},5386:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(5239),a=r(8088),o=r(8170),n=r.n(o),i=r(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,559)),"/home/neha/tunepulse/client/src/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4431)),"/home/neha/tunepulse/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/neha/tunepulse/client/src/app/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5747:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var s=r(687),a=r(3210),o=r(3434),n=r(9797),i=r.n(n);function l({songId:e,initialState:t,isLoading:r}){let[n,l]=(0,a.useState)(t),[d,c]=(0,a.useState)(!1),u=async()=>{try{c(!0),await (0,o.dw)(e),l(!n)}catch(e){console.error("Error toggling favorite:",e)}finally{c(!1)}};return r?(0,s.jsx)("div",{className:i().loading,children:"Loading..."}):(0,s.jsx)("button",{onClick:u,disabled:d,className:`${i().favoriteButton} ${n?i().active:""}`,"aria-label":n?"Remove from favorites":"Add to favorites",children:n?"❤️":"\uD83E\uDD0D"})}var d=r(7794),c=r.n(d);function u({song:e}){let[t,r]=(0,a.useState)(!1),[o,n]=(0,a.useState)(!0);return(0,s.jsxs)("div",{className:c().songItem,children:[(0,s.jsxs)("div",{className:c().songInfo,children:[e.albumArt&&(0,s.jsx)("img",{src:e.albumArt,alt:`${e.title} album art`,className:c().albumArt}),(0,s.jsxs)("div",{className:c().details,children:[(0,s.jsx)("h3",{className:c().title,children:e.title}),(0,s.jsx)("p",{className:c().artist,children:e.artist})]})]}),(0,s.jsxs)("div",{className:c().controls,children:[e.previewUrl&&(0,s.jsxs)("audio",{controls:!0,className:c().audioPlayer,children:[(0,s.jsx)("source",{src:e.previewUrl,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),(0,s.jsx)(l,{songId:e.id,initialState:t,isLoading:o})]})]})}var h=r(1353),p=r.n(h);function m({songs:e}){return 0===e.length?(0,s.jsx)("div",{className:p().empty,children:"No songs found"}):(0,s.jsx)("div",{className:p().songList,children:e.map(e=>(0,s.jsx)(u,{song:e},e.id))})}},7505:e=>{e.exports={dashboard:"dashboard_dashboard__gQFzy",actions:"dashboard_actions__c3bbO",favoritesButton:"dashboard_favoritesButton__yVlQA",loading:"dashboard_loading___JK9i",error:"dashboard_error__ih3px"}},7794:e=>{e.exports={songItem:"SongItem_songItem__bxruS",songInfo:"SongItem_songInfo__vO95b",albumArt:"SongItem_albumArt__MVpAg",details:"SongItem_details__lpeSV",title:"SongItem_title__9zBcW",artist:"SongItem_artist__BhSF9",controls:"SongItem_controls__ifblE",audioPlayer:"SongItem_audioPlayer__2ZC8e"}},8220:(e,t,r)=>{Promise.resolve().then(r.bind(r,553))},8492:(e,t,r)=>{Promise.resolve().then(r.bind(r,559))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9797:e=>{e.exports={favoriteButton:"FavoriteToggle_favoriteButton__rctoL",active:"FavoriteToggle_active__Ca3jh",pulse:"FavoriteToggle_pulse__f1CTM",loading:"FavoriteToggle_loading__W2ZdD"}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,169,567],()=>r(5386));module.exports=s})();